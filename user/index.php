<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap" rel="stylesheet">

    <title>JK Fitness - Premium Gym & Fitness Center</title>
<!--

TemplateMo 548 Training Studio

https://templatemo.com/tm-548-training-studio

-->
    <!-- Additional CSS Files -->
    <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">

    <link rel="stylesheet" type="text/css" href="assets/css/font-awesome.css">

    <link rel="stylesheet" href="assets/css/templatemo-training-studio.css">

    </head>
    
    <body>
    
    <!-- ***** Preloader Start ***** -->
    <div id="js-preloader" class="js-preloader">
      <div class="preloader-inner">
        <span class="dot"></span>
        <div class="dots">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </div>
    <!-- ***** Preloader End ***** -->
    
    
    <!-- ***** Header Area Start ***** -->
    <header class="header-area header-sticky">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <nav class="main-nav">
                        <!-- ***** Logo Start ***** -->
                        <a href="index.html" class="logo">JK<em> Fitness</em></a>
                        <!-- ***** Logo End ***** -->
                        <!-- ***** Menu Start ***** -->
                        <ul class="nav">
                            <li class="scroll-to-section"><a href="#top" class="active">Home</a></li>
                            <li class="scroll-to-section"><a href="#features">About</a></li>
                            <li class="scroll-to-section"><a href="products">Products</a></li>
                        
                            <li class="scroll-to-section"><a href="#contact-us">Contact</a></li> 
                            <li class="main-button"><a href="#">Sign Up</a></li>
                        </ul>        
                        <a class='menu-trigger'>
                            <span>Menu</span>
                        </a>
                        <!-- ***** Menu End ***** -->
                    </nav>
                </div>
            </div>
        </div>
    </header>
    <!-- ***** Header Area End ***** -->

    <!-- ***** Main Banner Area Start ***** -->
    <div class="main-banner" id="top">
        <video autoplay muted loop id="bg-video">
            <source src="assets/images/gym-video.mp4" type="video/mp4" />
        </video>

        <div class="video-overlay header-text">
            <div class="caption">
                <h6>work harder, get stronger</h6>
                <h2>easy with our <em>gym</em></h2>
                <div class="main-button scroll-to-section">
                    <a href="#features">Become a member</a>
                </div>
            </div>
        </div>
    </div>
    <!-- ***** Main Banner Area End ***** -->

    <!-- ***** Features Item Start ***** -->
    <section class="section" id="features">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 offset-lg-3">
                    <div class="section-heading">
                        <h2>Choose <em>Program</em></h2>
                        <img src="assets/images/line-dec.png" alt="waves">
                        <p>JK Fitness offers premium fitness programs and training sessions. Transform your life with our expert trainers and state-of-the-art facilities.</p>
                    </div>
                </div>
                <div class="col-lg-6">
                    <ul class="features-items">
                        <li class="feature-item">
                            <div class="left-icon">
                                <img src="assets/images/features-first-icon.png" alt="First One">
                            </div>
                            <div class="right-content">
                                <h4>Basic Fitness</h4>
                                <p>Please do not re-distribute this template ZIP file on any template collection website. This is not allowed.</p>
                                <a href="#" class="text-button">Discover More</a>
                            </div>
                        </li>
                        <li class="feature-item">
                            <div class="left-icon">
                                <img src="assets/images/features-first-icon.png" alt="second one">
                            </div>
                            <div class="right-content">
                                <h4>New Gym Training</h4>
                                <p>If you wish to support TemplateMo website via PayPal, please feel free to contact us. We appreciate it a lot.</p>
                                <a href="#" class="text-button">Discover More</a>
                            </div>
                        </li>
                        <li class="feature-item">
                            <div class="left-icon">
                                <img src="assets/images/features-first-icon.png" alt="third gym training">
                            </div>
                            <div class="right-content">
                                <h4>Basic Muscle Course</h4>
                                <p>Credit goes to <a rel="nofollow" href="https://www.pexels.com" target="_blank">Pexels website</a> for images and video background used in this HTML template.</p>
                                <a href="#" class="text-button">Discover More</a>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="col-lg-6">
                    <ul class="features-items">
                        <li class="feature-item">
                            <div class="left-icon">
                                <img src="assets/images/features-first-icon.png" alt="fourth muscle">
                            </div>
                            <div class="right-content">
                                <h4>Advanced Muscle Course</h4>
                                <p>You may want to browse through <a rel="nofollow" href="https://templatemo.com/tag/digital-marketing" target="_parent">Digital Marketing</a> or <a href="https://templatemo.com/tag/corporate">Corporate</a> HTML CSS templates on our website.</p>
                                <a href="#" class="text-button">Discover More</a>
                            </div>
                        </li>
                        <li class="feature-item">
                            <div class="left-icon">
                                <img src="assets/images/features-first-icon.png" alt="training fifth">
                            </div>
                            <div class="right-content">
                                <h4>Yoga Training</h4>
                                <p>This template is built on Bootstrap v4.3.1 framework. It is easy to adapt the columns and sections.</p>
                                <a href="#" class="text-button">Discover More</a>
                            </div>
                        </li>
                        <li class="feature-item">
                            <div class="left-icon">
                                <img src="assets/images/features-first-icon.png" alt="gym training">
                            </div>
                            <div class="right-content">
                                <h4>Body Building Course</h4>
                                <p>Suspendisse fringilla et nisi et mattis. Curabitur sed finibus nisi. Integer nibh sapien, vehicula et auctor.</p>
                                <a href="#" class="text-button">Discover More</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    <!-- ***** Features Item End ***** -->

    <!-- ***** Call to Action Start ***** -->
    <section class="section" id="call-to-action">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="cta-content">
                        <h2>Don't <em>think</em>, begin <em>today</em>!</h2>
                        <p>Join JK Fitness today and start your fitness journey. Our expert trainers and modern facilities are ready to help you achieve your fitness goals.</p>
                        <div class="main-button scroll-to-section">
                            <a href="#our-classes">Become a member</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ***** Call to Action End ***** -->

    <!-- ***** Products Section Start ***** -->
    <section class="section" id="products">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 offset-lg-3">
                    <div class="section-heading">
                        <h2>Our <em>Products</em></h2>
                        <img src="assets/images/line-dec.png" alt="">
                        <p>Explore our premium selection of fitness products and equipment. Quality gear for your fitness journey.</p>
                    </div>
                </div>
            </div>
            <div class="row" id="product-container">
                <?php
                include '../include/db.php';
                try {
                    $limit = 6; // Number of products per load
                    $query = "SELECT p.*, c.category_name, 
                             (SELECT image_path FROM product_images WHERE product_id = p.id LIMIT 1) as main_image 
                             FROM products p 
                             LEFT JOIN categories c ON p.category_id = c.id 
                             ORDER BY p.created_at DESC
                             LIMIT :limit";
                    $stmt = $pdo->prepare($query);
                    $stmt->bindValue(':limit', $limit, PDO::PARAM_INT);
                    $stmt->execute();
                    
                    while ($product = $stmt->fetch()) {
                        $image = $product['main_image'] ? '../' . $product['main_image'] : 'assets/images/no-image.jpg';
                        ?>
                        <div class="col-lg-4 col-md-6 mb-4 product-item">
                            <div class="card h-100">
                                <img src="<?php echo htmlspecialchars($image); ?>" class="card-img-top" alt="<?php echo htmlspecialchars($product['product_name']); ?>" style="height: 200px; object-fit: cover;">
                                <div class="card-body">
                                    <h5 class="card-title"><?php echo htmlspecialchars($product['product_name']); ?></h5>
                                    <p class="card-text text-muted"><?php echo htmlspecialchars($product['category_name']); ?></p>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <span class="h5 mb-0">LKR <?php echo number_format($product['price'], 2); ?></span>
                                        <button class="btn btn-jk add-to-cart" data-product-id="<?php echo $product['id']; ?>">
                                            Add to Cart
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <?php
                    }

                    // Check if there are more products
                    $countQuery = "SELECT COUNT(*) FROM products";
                    $totalProducts = $pdo->query($countQuery)->fetchColumn();
                    
                    if ($totalProducts > $limit) {
                        echo '<div class="col-12 text-center mt-4" id="load-more-container">
                                <button class="btn btn-lg btn-jk" id="load-more" data-offset="'.$limit.'">Load More</button>
                              </div>';
                    }

                } catch(PDOException $e) {
                    echo '<div class="col-12 text-center"><p>Error loading products. Please try again later.</p></div>';
                }
                ?>
            </div>
        </div>
    </section>
    <!-- ***** Products Section End ***** -->

    <style>
    .card {
        transition: transform 0.2s;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        margin-bottom: 20px;
    }
    .card:hover {
        transform: translateY(-5px);
    }
    .btn-jk {
        background-color: #E31E24;
        border-color: #E31E24;
        color: white;
    }
    .btn-jk:hover {
        background-color: #c41920;
        border-color: #c41920;
        color: white;
    }
    #load-more {
        padding: 10px 30px;
        font-size: 18px;
    }
    .product-item {
        opacity: 1;
        transition: opacity 0.3s ease-in-out;
    }
    .product-item.loading {
        opacity: 0;
    }
    </style>

    <script>
    $(document).ready(function() {
        // Add to cart functionality
        $('.add-to-cart').click(function() {
            const productId = $(this).data('product-id');
            Swal.fire({
                title: 'Added to Cart!',
                text: 'Product has been added to your cart.',
                icon: 'success',
                timer: 2000,
                showConfirmButton: false
            });
        });

        // Load more functionality
        $('#load-more').click(function() {
            const button = $(this);
            const offset = button.data('offset');
            
            button.prop('disabled', true).html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Loading...');

            $.ajax({
                url: 'load_more_products.php',
                type: 'POST',
                data: { offset: offset },
                success: function(response) {
                    try {
                        const data = JSON.parse(response);
                        if (data.products.length > 0) {
                            // Add new products with fade-in effect
                            data.products.forEach(function(product) {
                                const productHtml = `
                                    <div class="col-lg-4 col-md-6 mb-4 product-item loading">
                                        <div class="card h-100">
                                            <img src="${product.image}" class="card-img-top" alt="${product.name}" style="height: 200px; object-fit: cover;">
                                            <div class="card-body">
                                                <h5 class="card-title">${product.name}</h5>
                                                <p class="card-text text-muted">${product.category}</p>
                                                <div class="d-flex justify-content-between align-items-center">
                                                    <span class="h5 mb-0">LKR ${product.price}</span>
                                                    <button class="btn btn-jk add-to-cart" data-product-id="${product.id}">
                                                        Add to Cart
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                `;
                                const $product = $(productHtml);
                                $product.insertBefore('#load-more-container');
                                setTimeout(() => $product.removeClass('loading'), 100);
                            });

                            // Update offset for next load
                            button.data('offset', offset + data.products.length);
                            
                            // Hide load more button if no more products
                            if (!data.hasMore) {
                                button.parent().remove();
                            }
                        } else {
                            button.parent().remove();
                        }
                    } catch (error) {
                        console.error('Error parsing response:', error);
                    }
                    button.prop('disabled', false).text('Load More');
                },
                error: function() {
                    Swal.fire({
                        title: 'Error!',
                        text: 'Failed to load more products.',
                        icon: 'error',
                        timer: 2000,
                        showConfirmButton: false
                    });
                    button.prop('disabled', false).text('Load More');
                }
            });
        });
    });
    </script>

    <!-- ***** Testimonials Starts ***** -->
    <section class="section" id="trainers">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 offset-lg-3">
                    <div class="section-heading">
                        <h2>Expert <em>Trainers</em></h2>
                        <img src="assets/images/line-dec.png" alt="">
                        <p>Meet our team of certified trainers who are dedicated to helping you achieve your fitness goals.</p>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <div class="trainer-item">
                        <div class="image-thumb">
                            <img src="assets/images/first-trainer.jpg" alt="">
                        </div>
                        <div class="down-content">
                            <span>Strength Trainer</span>
                            <h4>Bret D. Bowers</h4>
                            <p>Bitters cliche tattooed 8-bit distillery mustache. Keytar succulents gluten-free vegan church-key pour-over seitan flannel.</p>
                            <ul class="social-icons">
                                <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                                <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                                <li><a href="#"><i class="fa fa-linkedin"></i></a></li>
                                <li><a href="#"><i class="fa fa-behance"></i></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="trainer-item">
                        <div class="image-thumb">
                            <img src="assets/images/second-trainer.jpg" alt="">
                        </div>
                        <div class="down-content">
                            <span>Muscle Trainer</span>
                            <h4>Hector T. Daigl</h4>
                            <p>Bitters cliche tattooed 8-bit distillery mustache. Keytar succulents gluten-free vegan church-key pour-over seitan flannel.</p>
                            <ul class="social-icons">
                                <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                                <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                                <li><a href="#"><i class="fa fa-linkedin"></i></a></li>
                                <li><a href="#"><i class="fa fa-behance"></i></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="trainer-item">
                        <div class="image-thumb">
                            <img src="assets/images/third-trainer.jpg" alt="">
                        </div>
                        <div class="down-content">
                            <span>Power Trainer</span>
                            <h4>Paul D. Newman</h4>
                            <p>Bitters cliche tattooed 8-bit distillery mustache. Keytar succulents gluten-free vegan church-key pour-over seitan flannel.</p>
                            <ul class="social-icons">
                                <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                                <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                                <li><a href="#"><i class="fa fa-linkedin"></i></a></li>
                                <li><a href="#"><i class="fa fa-behance"></i></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ***** Testimonials Ends ***** -->
    
    <!-- ***** Contact Us Area Starts ***** -->
    <section class="section" id="contact-us">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-6 col-md-6 col-xs-12">
                    <div id="map" style="height: 600px; width: 100%;"></div>
                </div>
                <div class="col-lg-6 col-md-6 col-xs-12">
                    <div class="contact-form">
                        <form id="contact" action="" method="post">
                          <div class="row">
                            <div class="col-md-6 col-sm-12">
                              <fieldset>
                                <input name="name" type="text" id="name" placeholder="Your Name*" required="">
                              </fieldset>
                            </div>
                            <div class="col-md-6 col-sm-12">
                              <fieldset>
                                <input name="email" type="text" id="email" pattern="[^ @]*@[^ @]*" placeholder="Your Email*" required="">
                              </fieldset>
                            </div>
                            <div class="col-md-12 col-sm-12">
                              <fieldset>
                                <input name="subject" type="text" id="subject" placeholder="Subject">
                              </fieldset>
                            </div>
                            <div class="col-lg-12">
                              <fieldset>
                                <textarea name="message" rows="6" id="message" placeholder="Message" required=""></textarea>
                              </fieldset>
                            </div>
                            <div class="col-lg-12">
                              <fieldset>
                                <button type="submit" id="form-submit" class="main-button">Send Message</button>
                              </fieldset>
                            </div>
                          </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ***** Contact Us Area Ends ***** -->
    
    <!-- ***** Footer Start ***** -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; 2024 JK Fitness
                    
                    - Designed by <a rel="nofollow" href="https://templatemo.com" class="tm-text-link" target="_parent">TemplateMo</a><br>

                Distributed by <a rel="nofollow" href="https://themewagon.com" class="tm-text-link" target="_blank">ThemeWagon</a>
                
                </p>
                    
                    <!-- You shall support us a little via PayPal to info@templatemo.com -->
                    
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="assets/js/jquery-2.1.0.min.js"></script>

    <!-- Bootstrap -->
    <script src="assets/js/popper.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>

    <!-- Plugins -->
    <script src="assets/js/scrollreveal.min.js"></script>
    <script src="assets/js/waypoints.min.js"></script>
    <script src="assets/js/jquery.counterup.min.js"></script>
    <script src="assets/js/imgfix.min.js"></script> 
    <script src="assets/js/mixitup.js"></script> 
    <script src="assets/js/accordions.js"></script>
    
    <!-- Global Init -->
    <script src="assets/js/custom.js"></script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDcRRjimUMeEBrcZ6EyWJ4TKyEadP8FCg8"></script>
    <script>
    function initMap() {
        // JK Fitness branch locations
        const branches = [
            {
                name: 'Kopay Branch',
                position: { lat: 9.705635745392033, lng: 80.0696051613448 }
            },
            {
                name: 'Atchuvely Branch',
                position: { lat: 9.763999648436503, lng: 80.11788333343013 }
            },
            {
                name: 'Sarayadi Branch',
                position: { lat: 9.820190674156668, lng: 80.23207006771884 }
            },
            {
                name: 'Nelliady Branch',
                position: { lat: 9.805341014214447, lng: 80.17886540336352 }
            },
            {
                name: 'Kodikamam Branch',
                position: { lat: 9.682745013085219, lng: 80.21626023583539 }
            }
        ];

        // Center the map on the middle branch (Sarayadi)
        const map = new google.maps.Map(document.getElementById('map'), {
            zoom: 11,
            center: branches[2].position,
            styles: [
                {
                    "featureType": "administrative",
                    "elementType": "labels.text.fill",
                    "stylers": [{"color": "#444444"}]
                },
                {
                    "featureType": "landscape",
                    "elementType": "all",
                    "stylers": [{"color": "#f2f2f2"}]
                },
                {
                    "featureType": "poi",
                    "elementType": "all",
                    "stylers": [{"visibility": "off"}]
                },
                {
                    "featureType": "road",
                    "elementType": "all",
                    "stylers": [{"saturation": -100}, {"lightness": 45}]
                },
                {
                    "featureType": "road.highway",
                    "elementType": "all",
                    "stylers": [{"visibility": "simplified"}]
                },
                {
                    "featureType": "road.arterial",
                    "elementType": "labels.icon",
                    "stylers": [{"visibility": "off"}]
                },
                {
                    "featureType": "transit",
                    "elementType": "all",
                    "stylers": [{"visibility": "off"}]
                },
                {
                    "featureType": "water",
                    "elementType": "all",
                    "stylers": [{"color": "#dde6e8"}, {"visibility": "on"}]
                }
            ]
        });

        // Create an info window to share between markers
        const infoWindow = new google.maps.InfoWindow();

        // Create custom marker icon
        const customIcon = {
            path: google.maps.SymbolPath.CIRCLE,
            fillColor: '#E31E24',
            fillOpacity: 1,
            strokeWeight: 1,
            strokeColor: '#FFFFFF',
            scale: 10
        };

        // Add markers for each branch
        branches.forEach(branch => {
            const marker = new google.maps.Marker({
                position: branch.position,
                map: map,
                title: branch.name,
                icon: customIcon,
                animation: google.maps.Animation.DROP
            });

            // Add click listener to show info window
            marker.addListener('click', () => {
                infoWindow.close();
                infoWindow.setContent(`
                    <div style="color: #333; padding: 10px; min-width: 200px;">
                        <h4 style="margin: 0 0 8px 0; color: #E31E24; font-size: 16px; font-weight: bold;">${branch.name}</h4>
                        <p style="margin: 0 0 10px 0; font-size: 14px;">JK Fitness Branch</p>
                        <button onclick="window.open('https://www.google.com/maps/dir/?api=1&destination=${branch.position.lat},${branch.position.lng}', '_blank')" 
                                style="background: #E31E24; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-size: 14px; width: 100%; text-align: center;">
                            Get Directions
                        </button>
                    </div>
                `);
                infoWindow.open(map, marker);
            });

            // Bounce animation on hover
            marker.addListener('mouseover', () => {
                marker.setAnimation(google.maps.Animation.BOUNCE);
            });
            marker.addListener('mouseout', () => {
                marker.setAnimation(null);
            });
        });
    }

    // Initialize the map when the page loads
    window.addEventListener('load', initMap);
    </script>

  </body>
</html>